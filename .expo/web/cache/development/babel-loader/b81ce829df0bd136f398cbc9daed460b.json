{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/raj/Desktop/skrt/src/pages/Cart.js\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { StatusBar } from 'expo-status-bar';\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport { SwipeListView } from 'react-native-swipe-list-view';\nimport NumericInput from 'react-native-numeric-input';\nimport visa from \"../../assets/mastercard.png\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nvar ScreenContainer = function ScreenContainer(_ref) {\n  var children = _ref.children;\n  return React.createElement(View, {\n    style: styles.container_2,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 5\n    }\n  }, children);\n};\n\nvar getData = function getData(key) {\n  var jsonValue;\n  return _regeneratorRuntime.async(function getData$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(AsyncStorage.getItem(key));\n\n        case 3:\n          jsonValue = _context.sent;\n          console.log(jsonValue != null ? JSON.parse(jsonValue) : null);\n          return _context.abrupt(\"return\", jsonValue != null ? JSON.parse(jsonValue) : null);\n\n        case 8:\n          _context.prev = 8;\n          _context.t0 = _context[\"catch\"](0);\n          alert('Something went wrong reading your cart, please restart the app.');\n\n        case 11:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 8]], Promise);\n};\n\nvar cart_list = [\"Strawberries\", \"Gilette Razor\", \"Lemon\", \"Pesto Sauce\", \"Tomato\", \"Tortillas - 30 ct\", \"Filler item\", \"Filler item\", \"Filler item\", \"Filler item\"];\nvar listData = cart_list.map(function (_, i) {\n  return {\n    key: \"\" + i,\n    text: cart_list[i]\n  };\n});\n\nvar fetchAllItems = function fetchAllItems() {\n  var keys, items, cart_listData, element, i, itemDetails;\n  return _regeneratorRuntime.async(function fetchAllItems$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return _regeneratorRuntime.awrap(AsyncStorage.getAllKeys());\n\n        case 3:\n          keys = _context2.sent;\n          _context2.next = 6;\n          return _regeneratorRuntime.awrap(AsyncStorage.multiGet(keys));\n\n        case 6:\n          items = _context2.sent;\n          cart_listData = [];\n\n          for (i = 0; i < items.length; i++) {\n            element = items[i];\n            itemDetails = JSON.parse(element[1]);\n            cart_listData.push({\n              \"key\": i,\n              \"text\": itemDetails.name,\n              \"quantity\": itemDetails.quantity,\n              \"price\": itemDetails.price\n            });\n          }\n\n          console.log(cart_listData);\n          setListData(cart_listData);\n          return _context2.abrupt(\"return\", cart_listData);\n\n        case 14:\n          _context2.prev = 14;\n          _context2.t0 = _context2[\"catch\"](0);\n          console.log(_context2.t0, \"problemo\");\n\n        case 17:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, [[0, 14]], Promise);\n};\n\nvar setListData = function setListData(newData) {\n  listData = newData;\n};\n\nexport var Cart = function Cart(_ref2) {\n  var navigation = _ref2.navigation;\n  cart_list = [];\n\n  var closeRow = function closeRow(rowMap, rowKey) {\n    if (rowMap[rowKey]) {\n      rowMap[rowKey].closeRow();\n    }\n  };\n\n  var deleteRow = function deleteRow(rowMap, rowKey) {\n    closeRow(rowMap, rowKey);\n\n    var newData = _toConsumableArray(listData);\n\n    var prevIndex = listData.findIndex(function (item) {\n      return item.key === rowKey;\n    });\n    newData.splice(prevIndex, 1);\n    console.log(\"newData size: \" + newData.length);\n    console.log(\"oldData size: \" + listData.length);\n    setListData(newData);\n    console.log(\"newData size: \" + newData.length);\n    console.log(\"oldData size: \" + listData.length);\n  };\n\n  var onRowDidOpen = function onRowDidOpen(rowKey) {\n    console.log('This row opened', rowKey);\n  };\n\n  var renderItem = function renderItem(data) {\n    return React.createElement(TouchableHighlight, {\n      onPress: function onPress() {\n        return console.log('You touched me');\n      },\n      style: styles.rowFront,\n      underlayColor: '#AAA',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }\n    }, React.createElement(View, {\n      style: {\n        flexDirection: \"row\",\n        paddingLeft: 10\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }\n    }, React.createElement(View, {\n      style: {\n        flex: 1,\n        justifyContent: \"center\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 15\n      }\n    }, React.createElement(Text, {\n      style: {\n        fontSize: 20\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }, data.item.text)), React.createElement(View, {\n      style: {\n        flex: 0.9\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 15\n      }\n    }, React.createElement(NumericInput, {\n      type: \"up-down\",\n      onChange: function onChange(value) {\n        return console.log(value);\n      },\n      minValue: 1,\n      value: data.item.quantity,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }\n    })), React.createElement(View, {\n      style: {\n        flex: 0.5,\n        justifyContent: \"center\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 15\n      }\n    }, React.createElement(Text, {\n      style: {\n        fontWeight: \"bold\",\n        fontSize: 25\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 19\n      }\n    }, data.item.price * data.item.quantity))));\n  };\n\n  var renderHiddenItem = function renderHiddenItem(data, rowMap) {\n    return React.createElement(View, {\n      style: styles.rowBack,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 7\n      }\n    }, React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }\n    }, \"Left\"), React.createElement(TouchableOpacity, {\n      style: [styles.backRightBtn, styles.backRightBtnLeft],\n      onPress: function onPress() {\n        return closeRow(rowMap, data.item.key);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      style: styles.backTextWhite,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 15\n      }\n    }, \"Close\")), React.createElement(TouchableOpacity, {\n      style: [styles.backRightBtn, styles.backRightBtnRight],\n      onPress: function onPress() {\n        return deleteRow(rowMap, data.item.key);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      style: styles.backTextWhite,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 15\n      }\n    }, \"Delete\")));\n  };\n\n  var getDoubleHeight = function getDoubleHeight() {\n    return 2 * StatusBar.currentHeight;\n  };\n\n  return React.createElement(ScreenContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 10,\n      paddingTop: 40\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 11\n    }\n  }, React.createElement(SwipeListView, {\n    data: listData,\n    renderItem: renderItem,\n    renderHiddenItem: renderHiddenItem,\n    leftOpenValue: 75,\n    rightOpenValue: -150,\n    previewRowKey: '0',\n    previewOpenValue: -40,\n    previewOpenDelay: 3000,\n    onRowDidOpen: onRowDidOpen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }\n  })), React.createElement(View, {\n    style: {\n      flex: 1,\n      justifyContent: 'flex-end',\n      flexDirection: \"row\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 11\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: {\n      flex: 0.25,\n      height: \"100%\",\n      backgroundColor: '#338BA8',\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    onPress: function onPress() {\n      console.log(\"edit card\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 15\n    }\n  }, React.createElement(Image, {\n    source: visa,\n    style: {\n      width: \"40%\",\n      height: \"40%\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 19\n    }\n  })), React.createElement(TouchableOpacity, {\n    style: {\n      flex: 0.75,\n      height: \"100%\",\n      backgroundColor: '#1cb51c',\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    onPress: function onPress() {\n      console.log(\"check out!\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 15\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: 'white',\n      fontSize: 16\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 17\n    }\n  }, \"Checkout - \", React.createElement(Text, {\n    style: {\n      fontWeight: \"bold\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 73\n    }\n  }, \"$39.51\")))));\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  container_2: {\n    flex: 1,\n    backgroundColor: \"#fff\"\n  },\n  backTextWhite: {\n    color: '#FFF',\n    fontSize: 20\n  },\n  rowFront: {\n    alignItems: 'center',\n    backgroundColor: '#FFF',\n    borderBottomColor: 'black',\n    borderBottomWidth: 1,\n    justifyContent: 'center',\n    height: 100\n  },\n  rowBack: {\n    alignItems: 'center',\n    backgroundColor: '#DDD',\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    paddingLeft: 15\n  },\n  backRightBtn: {\n    alignItems: 'center',\n    bottom: 0,\n    justifyContent: 'center',\n    position: 'absolute',\n    top: 0,\n    width: 75\n  },\n  backRightBtnLeft: {\n    backgroundColor: 'black',\n    right: 75\n  },\n  backRightBtnRight: {\n    backgroundColor: 'red',\n    right: 0\n  }\n});","map":{"version":3,"sources":["/Users/raj/Desktop/skrt/src/pages/Cart.js"],"names":["StatusBar","React","useState","useEffect","SwipeListView","NumericInput","visa","AsyncStorage","ScreenContainer","children","styles","container_2","getData","key","getItem","jsonValue","console","log","JSON","parse","alert","cart_list","listData","map","_","i","text","fetchAllItems","getAllKeys","keys","multiGet","items","cart_listData","length","element","itemDetails","push","name","quantity","price","setListData","newData","Cart","navigation","closeRow","rowMap","rowKey","deleteRow","prevIndex","findIndex","item","splice","onRowDidOpen","renderItem","data","rowFront","flexDirection","paddingLeft","flex","justifyContent","fontSize","value","fontWeight","renderHiddenItem","rowBack","backRightBtn","backRightBtnLeft","backTextWhite","backRightBtnRight","getDoubleHeight","currentHeight","paddingTop","height","backgroundColor","alignItems","width","color","StyleSheet","create","container","borderBottomColor","borderBottomWidth","bottom","position","top","right"],"mappings":"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","sourcesContent":["import { StatusBar } from 'expo-status-bar';\nimport React, { useState, useEffect } from 'react';\nimport {\n  StyleSheet,\n  Text,\n  View,\n  FlatList,\n  Image,\n  TextInput,\n  Button,\n  TouchableOpacity,\n  TouchableHighlight\n} from \"react-native\";\nimport { SwipeListView } from 'react-native-swipe-list-view';\nimport NumericInput from 'react-native-numeric-input'\nimport visa from '../../assets/mastercard.png';\nimport AsyncStorage from '@react-native-async-storage/async-storage'; \n\n\nconst ScreenContainer = ({ children }) => (\n    <View style = {styles.container_2}>{children}</View>\n)\n\n\n  const getData = async (key) => {\n    try {\n      const jsonValue = await AsyncStorage.getItem(key)\n      console.log(jsonValue != null ? JSON.parse(jsonValue) : null)\n      return jsonValue != null ? JSON.parse(jsonValue) : null;\n    } catch(e) {\n      // error reading value\n      alert('Something went wrong reading your cart, please restart the app.');\n    }\n  }\nvar cart_list = [\"Strawberries\", \"Gilette Razor\", \"Lemon\", \"Pesto Sauce\", \"Tomato\", \"Tortillas - 30 ct\", \"Filler item\", \"Filler item\", \"Filler item\", \"Filler item\"]\nvar listData = cart_list.map((_, i) => ({ key: `${i}`, text: cart_list[i] }));\n\nconst fetchAllItems = async () => {\n  try {\n      const keys = await AsyncStorage.getAllKeys()\n      const items = await AsyncStorage.multiGet(keys)\n      var cart_listData = [];\n\n      var element;\n      for (var i = 0; i < items.length; i++) {\n        element = items[i];\n        var itemDetails = JSON.parse(element[1])\n        cart_listData.push({\n          \"key\": i,\n          \"text\": itemDetails.name,\n          \"quantity\": itemDetails.quantity,\n          \"price\": itemDetails.price\n        })\n      }\n      console.log(cart_listData)\n      setListData(cart_listData)\n      return cart_listData\n  } catch (error) {\n      console.log(error, \"problemo\")\n  }\n}\n\nconst setListData = (newData) => {\n  listData = newData;\n}\n\nexport const Cart = ({ navigation }) => {\n\n    //var cart_list = [\"Strawberries\", \"Gilette Razor\", \"Lemon\", \"Pesto Sauce\", \"Tomato\", \"Tortillas - 30 ct\", \"Filler item\", \"Filler item\", \"Filler item\", \"Filler item\"]\n    cart_list = []\n\n    // const [listData, setListData] = useState(  \n    //       cart_list.map((_, i) => ({ key: `${i}`, text: cart_list[i] }))\n    // );\n\n  const closeRow = (rowMap, rowKey) => {\n    if (rowMap[rowKey]) {\n        rowMap[rowKey].closeRow();\n    }\n  };\n\n  const deleteRow = (rowMap, rowKey) => {\n      closeRow(rowMap, rowKey);\n      const newData = [...listData];\n      const prevIndex = listData.findIndex(item => item.key === rowKey);\n      newData.splice(prevIndex, 1);\n      console.log(\"newData size: \" + newData.length )\n      console.log(\"oldData size: \" + listData.length )\n\n      setListData(newData);\n\n      console.log(\"newData size: \" + newData.length )\n      console.log(\"oldData size: \" + listData.length )\n  };\n\n  const onRowDidOpen = rowKey => {\n      console.log('This row opened', rowKey);\n  };\n\n  const renderItem = data => (\n        <TouchableHighlight\n            onPress={() => console.log('You touched me')}\n            style={styles.rowFront}\n            underlayColor={'#AAA'}\n        >\n          <View style={{flexDirection: \"row\", paddingLeft: 10}}>\n              <View style={{\n                flex: 1,\n                justifyContent: \"center\"\n              }}>\n                <Text style={{fontSize: 20}}>\n                  {data.item.text}\n                </Text>\n              </View>\n\n              <View style={{flex: 0.9}}>\n                <NumericInput \n                  \n                  type='up-down'\n                  onChange={value => console.log(value)}\n                  minValue={1}\n                  value={data.item.quantity}\n                />\n              </View>\n\n\n              <View style={{\n                flex: 0.5,\n                justifyContent: \"center\"\n              }}>\n                  <Text style={{fontWeight: \"bold\", fontSize: 25}}>{data.item.price * data.item.quantity}</Text>\n              </View>\n          </View>\n        </TouchableHighlight>\n  );\n\n  const renderHiddenItem = (data, rowMap) => (\n      <View style={styles.rowBack}>\n          <Text>Left</Text>\n          <TouchableOpacity\n              style={[styles.backRightBtn, styles.backRightBtnLeft]}\n              onPress={() => closeRow(rowMap, data.item.key)}\n          >\n              <Text style={styles.backTextWhite}>Close</Text>\n          </TouchableOpacity>\n          <TouchableOpacity\n              style={[styles.backRightBtn, styles.backRightBtnRight]}\n              onPress={() => deleteRow(rowMap, data.item.key)}\n          >\n              <Text style={styles.backTextWhite}>Delete</Text>\n          </TouchableOpacity>\n      </View>\n  );\n\n    var getDoubleHeight = function(){\n      return 2 * StatusBar.currentHeight;\n    };\n\n    return (\n      <ScreenContainer>\n          <View style={\n            {\n              flex: 10,\n              paddingTop: 40\n            }\n          }>\n            <SwipeListView\n                data={listData}\n                renderItem={renderItem}\n                renderHiddenItem={renderHiddenItem}\n                leftOpenValue={75}\n                rightOpenValue={-150}\n                previewRowKey={'0'}\n                previewOpenValue={-40}\n                previewOpenDelay={3000}\n                onRowDidOpen={onRowDidOpen}\n            />\n          </View>\n\n          <View style={{flex: 1, justifyContent: 'flex-end', flexDirection:\"row\"}}>\n\n              <TouchableOpacity\n                style={{\n                  flex: 0.25,\n                  height: \"100%\",\n                  backgroundColor: '#338BA8',\n                  alignItems: 'center',\n                  justifyContent: 'center'\n                }}\n                onPress={() => {console.log(\"edit card\")}}>\n                  <Image source={visa} style={{ width: \"40%\", height: \"40%\"}} /> \n              </TouchableOpacity>\n\n              <TouchableOpacity\n                style={{\n                  flex: 0.75,\n                  height: \"100%\",\n                  backgroundColor: '#1cb51c',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                }}\n                onPress={() => {console.log(\"check out!\")}}>\n                <Text style={{color: 'white', fontSize: 16}}>Checkout - <Text style={{fontWeight:\"bold\"}}>$39.51</Text></Text>\n              </TouchableOpacity>\n\n          </View>\n\n      </ScreenContainer>\n    );\n  };\n  \n  const styles = StyleSheet.create({\n    container: {\n      flex: 1,\n      backgroundColor: \"#fff\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n    },\n  \n    container_2: {\n      flex: 1,\n      backgroundColor: \"#fff\"\n    },\n   \n    backTextWhite: {\n      color: '#FFF',\n      fontSize: 20\n    },\n    rowFront: {\n        alignItems: 'center',\n        backgroundColor: '#FFF',\n        borderBottomColor: 'black',\n        borderBottomWidth: 1,\n        justifyContent: 'center',\n        height: 100,\n    },\n    rowBack: {\n        alignItems: 'center',\n        backgroundColor: '#DDD',\n        flex: 1,\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        paddingLeft: 15,\n    },\n    backRightBtn: {\n        alignItems: 'center',\n        bottom: 0,\n        justifyContent: 'center',\n        position: 'absolute',\n        top: 0,\n        width: 75,\n    },\n    backRightBtnLeft: {\n        backgroundColor: 'black',\n        right: 75,\n    },\n    backRightBtnRight: {\n        backgroundColor: 'red',\n        right: 0,\n    }\n  });\n  "]},"metadata":{},"sourceType":"module"}